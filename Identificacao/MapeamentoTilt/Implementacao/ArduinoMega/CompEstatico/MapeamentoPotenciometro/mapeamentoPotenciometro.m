%% Mapeamento do potenciometro
clear all
close all

% Mapeamento estatico potenciometro

% Resultado dos ensaios
% ADC com alimentacao 5 V

x = 0:5:180;
%Ensaio 1 Leituras ADC das variaçoes de 5 em 5 graus (33 dados)
y1 = [ 11 30 49 69 88      ...
       108 126 146 165 184 ...
       202 224 242 263 282 ...
       302 320 340 357 444 ...
       202 224 242 263 282 ...
       302 320 340 357 444 ...
       302 320 340 340 340 ...
       333 333] ;
%Ensaio 2 Leituras ADC das variaçoes de 5 em 5 graus (33 dados) 
y2 = [ 11 30 49 69 88      ...
       108 126 146 165 184 ...
       202 4 242 263 282 ...
       302 320 340 357 444 ...
       202 224 4 263 282 ...
       302 4 340 357 444 ...
       302 320 340 340 340 ...
       333 333] ;
%Ensaio 3 Leituras ADC das variaçoes de 5 em 5 graus (33 dados) 
y3 = [ 11 30 49 69 88      ...
       108 2 146 165 184 ...
       2 2 242 263 282 ...
       302 320 340 357 444 ...
       202 224 242 263 282 ...
       302 320 340 357 444 ...
       302 320 340 340 340 ...
       333 333] ;
   
   
coefs1=polyfit(x,y1,1);
coefs2=polyfit(x,y2,1);
coefs3=polyfit(x,y3,1);

f1= polyval(coefs1,x) ;
f2= polyval(coefs2,x) ;
f3= polyval(coefs3,x) ;

fs=27.25;
figure
figura=gcf

plot(x,y1,'k*');
ylabel('$\theta_{pot} \hspace{0.5em} [{}^\circ]$', 'interpreter','latex');
xlabel('$ADC \hspace{0.5em} [10 \hspace{0.5em} bits]$', 'interpreter','latex');
figura.Children.FontSize=fs
figura.Children.TickLabelInterpreter='latex'
hold on
plot(x,f1,'k');
plot(x,y2,'r*');
plot(x,f2,'r');
plot(x,y3,'b*');
plot(x,f3,'b');
